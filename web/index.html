<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SimplestChat</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body>
  <div id="app">
    <header>
      <div class="header-left">
        <h1>SimplestChat</h1>
        <span id="room-label" class="room-label" hidden></span>
      </div>
      <div class="header-right">
        <span id="quality-indicator" class="quality-dot" hidden title="Connection quality"></span>
        <span id="connection-status" class="status disconnected">Disconnected</span>
      </div>
    </header>

    <div id="join-screen">
      <div class="join-card">
        <div class="join-brand">SimplestChat</div>
        <div class="join-subtitle">Video chat, simplified</div>
        <div class="join-form">
          <input type="text" id="name-input" placeholder="Your name" autocomplete="off" />
          <input type="text" id="room-input" placeholder="Room name" autocomplete="off" />
          <button id="join-btn" disabled>Join Room</button>
        </div>
      </div>
    </div>

    <div id="room-screen" class="layout-modern" hidden>
      <div id="main-area">
        <div id="video-grid"></div>
      </div>
      <div id="sidebar">
        <div id="sidebar-tabs">
          <button class="tab active" data-tab="chat">Chat</button>
          <button class="tab" data-tab="users">Users</button>
        </div>
        <div id="sidebar-content">
          <div id="chat-panel" class="tab-content active">
            <div id="chat-messages"></div>
            <div id="scroll-bottom-btn" hidden>
              <span id="unread-badge" hidden>0</span>
            </div>
            <div id="chat-input-row">
              <input type="text" id="chat-input" placeholder="Type a message..." autocomplete="off" />
              <button id="chat-send-btn" title="Send message"></button>
            </div>
          </div>
          <div id="users-panel" class="tab-content">
            <ul id="participant-list"></ul>
          </div>
        </div>
      </div>
      <div id="controls">
        <button id="mic-btn" title="Toggle microphone"></button>
        <button id="cam-btn" title="Toggle camera"></button>
        <button id="screen-btn" title="Share screen"></button>
        <button id="settings-btn" title="Settings"></button>
        <button id="leave-btn" title="Leave room"></button>
      </div>
    </div>

    <div id="settings-modal" class="modal-overlay" hidden>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Settings</h2>
          <button id="settings-close" class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="setting-group">
            <label for="layout-select">Layout</label>
            <select id="layout-select">
              <option value="modern">Modern (Full-width video)</option>
              <option value="classic">Classic (3-panel)</option>
            </select>
          </div>
          <div class="setting-group">
            <label for="mic-mode-select">Mic Mode</label>
            <select id="mic-mode-select">
              <option value="open">Open Mic</option>
              <option value="ptt">Push to Talk (Space / T)</option>
            </select>
          </div>
          <div class="setting-group">
            <label for="camera-select">Camera</label>
            <select id="camera-select">
              <option value="">Default</option>
            </select>
          </div>
          <div class="setting-group">
            <label for="mic-select">Microphone</label>
            <select id="mic-select">
              <option value="">Default</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
